---
description: "用於為儲存庫生成 AGENTS.md 檔案的提示"
mode: "agent"
---

# 建立高品質的 AGENTS.md 檔案

您是一個程式碼代理。您的任務是在此儲存庫的根目錄建立一個完整、準確的 AGENTS.md，遵循 https://agents.md/ 上的公開指南。

AGENTS.md 是一個開放格式，旨在為程式碼代理提供有效處理專案所需的上下文和指示。

## 什麼是 AGENTS.md？

AGENTS.md 是一個 Markdown 檔案，作為「代理的 README」- 一個專用、可預測的位置，提供上下文和指示以幫助 AI 程式碼代理處理您的專案。它透過包含程式碼代理需要但可能會使面向人類的 README 混亂的詳細技術上下文來補充 README.md。

## 關鍵原則

- **專注於代理**：包含自動化工具的詳細技術指示
- **補充 README.md**：不替代人類文件，而是加入代理特定的上下文
- **標準化位置**：放置在儲存庫根目錄（或 monorepo 的子專案根目錄）
- **開放格式**：使用標準 Markdown 和靈活的結構
- **生態系統相容性**：適用於 20+ 種不同的 AI 程式碼工具和代理

## 檔案結構和內容指南

### 1. 必需的設定

- 在儲存庫根目錄建立檔案為 `AGENTS.md`
- 使用標準 Markdown 格式
- 沒有必填欄位 - 根據專案需求靈活設定結構

### 2. 要包含的基本章節

#### 專案概述

- 專案用途的簡要描述
- 如果複雜則包含架構概述
- 使用的關鍵技術和框架

#### 設定命令

- 安裝指示
- 環境設定步驟
- 相依性管理命令
- 資料庫設定（如適用）

#### 開發工作流程

- 如何啟動開發伺服器
- 建置命令
- Watch/hot-reload 設定
- 套件管理器細節（npm、pnpm、yarn 等）

#### 測試指示

- 如何執行測試（單元、整合、e2e）
- 測試檔案位置和命名慣例
- 覆蓋率要求
- 使用的特定測試模式或框架
- 如何執行測試子集或專注於特定區域

#### 程式碼風格指南

- 特定語言的慣例
- Linting 和格式化規則
- 檔案組織模式
- 命名慣例
- 匯入/匯出模式

#### 建置和部署

- 建置命令和輸出
- 環境設定
- 部署步驟和要求
- CI/CD 管線資訊

### 3. 可選但建議的章節

#### 安全性考量

- 安全性測試要求
- 機密管理
- 身份驗證模式
- 權限模型

#### Monorepo 指示（如適用）

- 如何使用多個套件
- 跨套件相依性
- 選擇性建置/測試
- 套件特定命令

#### Pull Request 指南

- 標題格式要求
- 提交前所需的檢查
- 審查流程
- 提交訊息慣例

#### 除錯和疑難排解

- 常見問題和解決方案
- 日誌記錄模式
- 除錯設定
- 效能考量

## 範例範本

使用此作為起始範本，並根據特定專案進行自訂：

```markdown
# AGENTS.md

## 專案概述

[專案的簡要描述、其目的和關鍵技術]

## 設定命令

- 安裝相依性：`[套件管理器] install`
- 啟動開發伺服器：`[命令]`
- 建置生產環境：`[命令]`

## 開發工作流程

- [開發伺服器啟動指示]
- [Hot reload/watch 模式資訊]
- [環境變數設定]

## 測試指示

- 執行所有測試：`[命令]`
- 執行單元測試：`[命令]`
- 執行整合測試：`[命令]`
- 測試覆蓋率：`[命令]`
- [特定測試模式或要求]

## 程式碼風格

- [語言和框架慣例]
- [Linting 規則和命令]
- [格式化要求]
- [檔案組織模式]

## 建置和部署

- [建置流程詳細資訊]
- [輸出目錄]
- [環境特定建置]
- [部署命令]

## Pull Request 指南

- 標題格式：[元件] 簡要描述
- 必需的檢查：`[lint 命令]`、`[test 命令]`
- [審查要求]

## 其他注意事項

- [任何專案特定的上下文]
- [常見陷阱或疑難排解提示]
- [效能考量]
```

## 來自 agents.md 的實作範例

以下是來自 agents.md 網站的真實範例：

```markdown
# 範例 AGENTS.md 檔案

## 開發環境提示

- 使用 `pnpm dlx turbo run where <project_name>` 跳轉到套件，而不是使用 `ls` 掃描。
- 執行 `pnpm install --filter <project_name>` 將套件加入您的工作空間，以便 Vite、ESLint 和 TypeScript 可以看到它。
- 使用 `pnpm create vite@latest <project_name> -- --template react-ts` 建立一個新的 React + Vite 套件，並準備好 TypeScript 檢查。
- 檢查每個套件的 package.json 中的 name 欄位以確認正確的名稱 - 跳過頂層的名稱。

## 測試指示

- 在 .github/workflows 資料夾中找到 CI 計畫。
- 執行 `pnpm turbo run test --filter <project_name>` 以執行為該套件定義的每個檢查。
- 從套件根目錄，您可以只呼叫 `pnpm test`。提交應該在合併之前通過所有測試。
- 要專注於一個步驟，加入 Vitest 模式：`pnpm vitest run -t "<test name>"`。
- 修復任何測試或類型錯誤，直到整個套件變綠。
- 移動檔案或變更匯入後，執行 `pnpm lint --filter <project_name>` 以確保 ESLint 和 TypeScript 規則仍然通過。
- 為您變更的程式碼加入或更新測試，即使沒有人要求。

## PR 指示

- 標題格式：[<project_name>] <Title>
- 在提交之前始終執行 `pnpm lint` 和 `pnpm test`。
```

## 實作步驟

1. **分析專案結構** 以了解：
   - 使用的程式語言和框架
   - 套件管理器和建置工具
   - 測試框架
   - 專案架構（monorepo、單一套件等）

2. **透過檢查以下內容識別關鍵工作流程**：
   - package.json 腳本
   - Makefile 或其他建置檔案
   - CI/CD 設定檔案
   - 文件檔案

3. **建立涵蓋以下內容的全面章節**：
   - 所有基本設定和開發命令
   - 測試策略和命令
   - 程式碼風格和慣例
   - 建置和部署流程

4. **包含代理可以直接執行的特定、可操作的命令**

5. **透過確保所有命令都按文件所述運作來測試指示**

6. **保持專注** 於代理需要知道的內容，而不是一般專案資訊

## 最佳實踐

- **具體明確**：包含確切的命令，而不是模糊的描述
- **使用程式碼區塊**：將命令包裝在反引號中以提高清晰度
- **包含上下文**：解釋為什麼需要某些步驟
- **保持更新**：隨著專案發展而更新
- **測試命令**：確保所有列出的命令實際有效
- **考慮巢狀檔案**：對於 monorepo，根據需要在子專案中建立 AGENTS.md 檔案

## Monorepo 考量

對於大型 monorepo：

- 在儲存庫根目錄放置主要的 AGENTS.md
- 在子專案目錄中建立額外的 AGENTS.md 檔案
- 對於任何給定位置，最接近的 AGENTS.md 檔案優先
- 包含套件/專案之間的導航提示

## 最後注意事項

- AGENTS.md 適用於 20+ 種 AI 程式碼工具，包括 Cursor、Aider、Gemini CLI 等
- 格式故意靈活 - 根據您的專案需求進行調整
- 專注於可操作的指示，幫助代理理解和處理您的程式碼庫
- 這是活文件 - 隨著專案發展而更新

在建立 AGENTS.md 檔案時，優先考慮清晰性、完整性和可操作性。目標是為任何程式碼代理提供足夠的上下文，以便有效地為專案做出貢獻，而無需額外的人工指導。
